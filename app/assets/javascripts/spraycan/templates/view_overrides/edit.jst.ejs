<form id="view_override_form">
  <div>
    <div class="fields">
      <label>Name:</label>
      <input type="text" size="30" name="name" value="<%= view_override.name %>">
    </div>

    <div class="fields">
      <label>Action:</label>
      <select name="target" id="view_override_target">
        <% _.each(['remove', 'replace', 'insert_after', 'insert_before', 'insert_top', 'insert_bottom'], function(_target) { %>
          <option <%= _target==view_override.target ? 'selected' : '' %>><%= _target %></option>
        <% }); %>
      </select>
    </div>

    <div class="fields">
      <label>Disabled:</label>
      <input type="checkbox" value="true" name="disabled" <%= view_override.disabled ? 'checked="checked"' : '' %>>
    </div>

    <div class="fields advanced clear">
      <label>Replace With:</label>
      <select name="replace_with">
        <% _.each(['text', 'partial', 'template'], function(_replace_with) { %>
          <option <%= _replace_with==view_override.replace_with ? 'selected' : '' %>><%= _replace_with %></option>
        <% }); %>
      </select>
    </div>

    <div class="fields advanced">
      <label>Virtual Path:</label>
      <select name="virtual_path">
        <% _.each(Spraycan.templates.models, function(template) { %>
          <option <%= template.attributes.name==view_override.virtual_path ? 'selected' : '' %>><%= template.attributes.name %></option>
        <% }); %>
      </select>
    </div>

    <div class="fields advanced">
      <label>Sequence:</label>
      <select name="sequence" style="width:80px;">
        <option <%= "before"==view_override.sequence ? 'selected' : '' %>>before</option>
        <option <%= "after"==view_override.sequence ? 'selected' : '' %>>after</option>
      </select>
      <select name="sequence_target" style="width:120px;">
        <option <%= ""==view_override.sequence_target ? 'selected' : '' %>> </option>
        <% _.each(Spraycan.view_overrides.models, function(override) { %>
          <% if(override.attributes.name!=name){ %>
            <option <%= override.attributes.name==view_override.sequence_target ? 'selected' : '' %>><%= override.attributes.name %></option>
          <% } %>
        <% }); %>
      </select>
    </div>

    <div class="fields advanced clear">
      <label>Selector:</label>
      <input type="text" size="30" name="selector" value="<%= view_override.selector %>">
    </div>

    <div class="fields advanced" id="closing_selector_wrapper">
      <label>End Selector:</label>
      <input type="text" size="30" name="closing_selector" value="<%= view_override.closing_selector %>">
    </div>

    <div style="display: <%= view_override.target!='remove' ? 'block' : 'none' %>;" class="clear" id="replace_withs">
      <div class="replacement" id="replace_with_text">
        <div class="fields">
          <label>Text:</label>
        </div>
        <pre id="view_override_replace_text" class="small_editor"><p>I am a p.</p></pre>
      </div>

      <div class="fields replacement" id="replace_with_partial">
        <label>Partial:</label>
        <input type="text" size="30" name="replace_parital" disabled="disabled">
      </div>

      <div class="fields replacement" id="replace_with_template">
        <label>Template:</label>
        <input type="text" size="30" name="replace_template" disabled="disabled">
      </div>
    </div>

    <div id="actions">
      <ul class="buttons toggle">
        <li class="<%= typeof(view_override.id)  == "undefined" ? 'disabled' : '' %>"><a rel="delete" href="#">Delete</a></li>
        <li><a rel="cancel" href="#">Cancel</a></li>
        <li class="last"><a rel="save" href="#">Save</a></li>
      </ul>

      <ul class="buttons ">
        <li class="last"><a rel="advanced" href="#">Advanced</a></li>
      </ul>

    </div>

</form>
